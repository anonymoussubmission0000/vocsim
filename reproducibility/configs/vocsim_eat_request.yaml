project_root: "."
results_dir: "d:/data2/vocsim/results/vocsim_eat"
features_dir: "d:/data2/vocsim/features/vocsim_eat"
models_dir: &models_output_dir "d:/data2/vocsim/paper_models_scoped"
output_tables_dir: "d:/data2/vocsim/paper_outputs/vocsim_eat_tables"
run_id: "vocsim_eat_${now:%Y%m%d_%H%M%S}"
force_cpu: false
target_sample_rate: 16000
feature_chunk_size_gb: 3
logging:
  level: INFO

# --- Dataset ---
dataset:
  id: anonymous-submission000/vocsimfull
  subset: null
  split: train
  subsets_to_run: &subsets_to_process [BS1, BS2, BS3, BS4, BS5, BC, HP, HS1, HS2, HU1, HU2, HU3, HU4, HW1, HW2, HW3, HW4, ES1, OC1]

train: []  # No training needed

feature_extractors:
  # Base EAT extractor
  - name: EATExtractor
    module: features.eat
    params:
      model_id: "worstchan/EAT-large_epoch20_finetune_AS2M"
    compute_distances_for: ["cosine", "euclidean", "spearman"]
    benchmark_this: true
    short_name: EAT
  - name: EATExtractor_pca_100
    base_extractor: EATExtractor
    pca: 100
    pca_load_chunks: -1
    compute_distances_for: ["cosine", "euclidean", "spearman"]
    benchmark_this: true
    short_name: EAT D100

distances:
  - name: cosine
    params:
      use_torchmetrics: true
      zero_diagonal: true
  - name: euclidean
    params:
      use_torchmetrics: true
      zero_diagonal: true
  - name: spearman
    params:
      use_gpu_if_available: true

benchmarks:
  - name: PrecisionAtK
    params:
      k_values: [1, 5]
  - name: FValueBenchmark
    params:
      min_class_size: 5
  - name: GlobalSeparationRate
    module: benchmarks.gsr
    params:
      min_class_size: 5
  - name: SilhouetteBenchmark
    module: benchmarks.silhouette
    params:
      sample_size: 15000
      random_state: 42
  - name: CSCFBenchmark
    params:
      min_class_size: 5
  - name: ClusteringPurity
    params:
      use_distance_matrix_for_umap: true
      hdbscan_min_cluster_size: 5
  - name: ClassSeparationRatio
    module: benchmarks.csr
    params:
      min_class_size: 5

extraction_batch_size: 12
distance_gpu_block_size: 1024
